# Step 06b: Plane Regularization — default config
# All sub-modules enabled except opening detection (Phase 2)

# Scale
scale_mode: "auto"                 # auto | manual | metric
coordinate_scale: 1.0              # only used when scale_mode=manual
expected_room_size: 5.0            # meters (fallback: XZ extent based)
expected_storey_height: 2.7        # meters (primary: height-based scale)

# Wall closure
enable_wall_closure: true
wall_closure_mode: "auto"              # auto | manhattan | convex | concave
max_closure_gap_ratio: 0.3
use_floor_ceiling_hints: true

# Sub-module toggles
enable_normal_snapping: true
enable_height_snapping: true
enable_wall_thickness: true
enable_intersection_trimming: true
enable_space_detection: true
enable_opening_detection: false

# A. Normal snapping
normal_snap_threshold: 20.0        # degrees

# B. Height snapping
height_cluster_tolerance: 0.5      # scene units

# C. Wall thickness
max_wall_thickness: 1.0
default_wall_thickness: 0.2
min_parallel_overlap: 0.3          # fraction

# D. Intersection trimming
snap_tolerance: 0.5                # scene units

# E. Space detection
min_space_area: 1.0                # square scene units

# F. Opening detection (disabled by default — requires surface_points.ply)
opening_histogram_resolution: 0.05 # bin size (meters)
opening_histogram_threshold: 0.7   # fraction of peak density
opening_min_width: 0.3             # meters
opening_min_height: 0.3            # meters
opening_door_sill_max: 0.1        # meters (below = door)
opening_door_min_height: 1.8       # meters
opening_min_points: 100            # min inlier points per wall
