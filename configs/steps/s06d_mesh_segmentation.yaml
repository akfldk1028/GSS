# Step 06d: Mesh Segmentation — extract non-planar geometry from TSDF mesh
# Classifies mesh faces as planar or residual, clusters residual faces,
# and writes mesh_elements.json for s07 tessellation.

# Face classification thresholds
plane_distance_threshold: 0.03   # meters — max centroid-to-plane distance
plane_normal_threshold: 0.85     # cos(angle) — min normal alignment

# Cluster filtering
min_cluster_faces: 50            # discard clusters with fewer faces
min_cluster_area: 0.01           # discard clusters smaller than this (m²)

# Simplification (quadric decimation)
enable_simplification: true
target_face_ratio: 0.5           # keep 50% of faces
max_faces_per_element: 50000     # hard cap (matches s07 tessellation_max_faces)

# Output
default_ifc_class: "IfcBuildingElementProxy"
color_by_cluster: true
